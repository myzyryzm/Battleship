{"ast":null,"code":"var _jsxFileName = \"/Users/ryzm/Desktop/Battleship/client/src/Board.js\";\nimport React, { Component } from 'react';\nimport Square from \"./Square.js\";\nimport winningConditions from './winningConditions.js';\nimport playerPieces from './playerPieces.js';\nimport characters from \"./characters.js\";\nimport './App.css';\nimport Dropdown from './Dropdown.js';\nimport blank from \"./blank.png\";\nimport arya from \"./faces/arya.png\";\nimport bran from \"./faces/bran.png\";\nimport brienne from \"./faces/brienne.png\";\nimport cersei from \"./faces/cersei.png\";\nimport daenerys from \"./faces/daenerys.png\";\nimport davos from \"./faces/davos.png\";\nimport euron from \"./faces/euron.png\";\nimport greyWorm from \"./faces/greyWorm.png\";\nimport hound from \"./faces/hound.png\";\nimport jamie from \"./faces/jamie.png\";\nimport jonSnow from \"./faces/jonSnow.png\";\nimport jorah from \"./faces/jorah.png\";\nimport melisandre from \"./faces/melisandre.png\";\nimport missandei from \"./faces/missandei.png\";\nimport nightKing from \"./faces/nightKing.png\";\nimport samwell from \"./faces/samwell.png\";\nimport sansa from \"./faces/sansa.png\";\nimport theon from \"./faces/theon.png\";\nimport tyrion from \"./faces/tyrion.png\";\nimport varys from \"./faces/varys.png\";\nimport theme from \"./theme.mp3\";\nimport io from 'socket.io-client';\nconst audio = new Audio(theme);\nconst fillArray = Array(100).fill(null);\nvar currentPiece = 0;\nconst serverAddress = 'http://localhost:3000';\n\nclass Board extends Component {\n  constructor(props) {\n    super(props);\n\n    this.getPicture = character => {\n      switch (character) {\n        case \"Arya Stark\":\n          return arya;\n\n        case \"Bran Stark\":\n          return bran;\n\n        case \"Brienne of Tarth\":\n          return brienne;\n\n        case \"Cersei Lannister\":\n          return cersei;\n\n        case \"Daenerys Targaryean\":\n          return daenerys;\n\n        case \"Davos Seaworth\":\n          return davos;\n\n        case \"Euron Greyjoy\":\n          return euron;\n\n        case \"Grey Worm\":\n          return greyWorm;\n\n        case \"The Hound\":\n          return hound;\n\n        case \"Jamie Lannister\":\n          return jamie;\n\n        case \"Jon Snow\":\n          return jonSnow;\n\n        case \"Jorah Mormont\":\n          return jorah;\n\n        case \"Melisandre\":\n          return melisandre;\n\n        case \"Missandei\":\n          return missandei;\n\n        case \"Night King\":\n          return nightKing;\n\n        case \"Samwell Tarly\":\n          return samwell;\n\n        case \"Sansa Stark\":\n          return sansa;\n\n        case \"Theon Greyjoy\":\n          return theon;\n\n        case \"Tyrion Lannister\":\n          return tyrion;\n\n        case \"Varys\":\n          return varys;\n      }\n\n      return jonSnow;\n    };\n\n    this.checkIfWinner = () => {\n      let _this$state = this.state,\n          firstPlayer = _this$state.firstPlayer,\n          secondPlayer = _this$state.secondPlayer;\n\n      if (firstPlayer.pieces.hasLost()) {\n        let secondWins = secondPlayer.wins + 1;\n        alert(\"You lost!\");\n        secondPlayer[\"wins\"] = secondWins;\n        secondPlayer[\"won\"] = true;\n        this.setState({\n          secondPlayer\n        });\n        this.setState({\n          gameOver: true\n        });\n      } else if (secondPlayer.pieces.hasLost()) {\n        let firstWins = firstPlayer.wins + 1;\n        alert(\"You won!\");\n        firstPlayer[\"wins\"] = firstWins;\n        firstPlayer[\"won\"] = true;\n        this.setState({\n          firstPlayer\n        });\n        this.setState({\n          gameOver: true\n        });\n      }\n    };\n\n    this.handleClick = id => {\n      let _this$state2 = this.state,\n          gameStarted = _this$state2.gameStarted,\n          placingPiece = _this$state2.placingPiece,\n          firstPlayerTurn = _this$state2.firstPlayerTurn,\n          gameOver = _this$state2.gameOver,\n          showingBoard1 = _this$state2.showingBoard1;\n\n      if (gameOver) {\n        return;\n      }\n\n      if (!gameStarted) {\n        if (!placingPiece) {\n          this.placePiece(id);\n        }\n      } else {\n        if (firstPlayerTurn && !showingBoard1) {\n          this.attackSquare(id);\n        }\n      }\n    };\n\n    this.attackSquare = id => {\n      let _this$state3 = this.state,\n          firstPlayerTurn = _this$state3.firstPlayerTurn,\n          secondPlayer = _this$state3.secondPlayer,\n          gameOver = _this$state3.gameOver,\n          playingAI = _this$state3.playingAI;\n\n      if (firstPlayerTurn) {\n        let pieces = secondPlayer.pieces;\n\n        if (pieces.canAttackPiece(id)) {\n          let dex = pieces.attackPiece(id);\n          alert(this.getAlertText(dex, false));\n          secondPlayer[\"pieces\"] = pieces;\n          this.setState({\n            secondPlayer\n          });\n          this.setState({\n            firstPlayerTurn: false\n          });\n          this.checkIfWinner();\n\n          if (!gameOver) {\n            if (playingAI) {\n              setTimeout(this.startAITurn(), 3000);\n            } else {}\n          }\n        }\n      }\n    };\n\n    this.startOpponentTurn = () => {\n      this.setState({\n        showingBoard1: true\n      });\n    };\n\n    this.startAITurn = () => {\n      this.setState({\n        showingBoard1: true\n      });\n      this.aiTurn();\n    };\n\n    this.getRandomGuess = () => {\n      let firstPlayer = this.state.firstPlayer;\n      let squares = firstPlayer.pieces.squares;\n      let id = Math.floor(Math.random() * 100);\n\n      if (squares[id] <= 1) {\n        return id;\n      }\n\n      return this.getRandomGuess();\n    };\n\n    this.handleJoin = e => {\n      fetch(serverAddress + '/create_user', {\n        body: JSON.stringify({\n          name: \"\"\n        }),\n        method: 'post',\n        cache: 'no-cache',\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      }).then(response => response.json()).then(json => {\n        if (json.success) {\n          localStorage.sessionKey = json.sessionKey;\n          this.setState({\n            joined: true\n          });\n        }\n      });\n    };\n\n    this.aiTurn = () => {\n      const _this$state4 = this.state,\n            ai = _this$state4.ai,\n            firstPlayer = _this$state4.firstPlayer;\n      let pieces = firstPlayer.pieces;\n      let hits = ai.hits;\n      let guesses = ai.guesses;\n      let hitDirection = ai.hitDirection;\n      let nextGuess = 0;\n      let guessDirection = \"\";\n\n      if (hits.length === 0) {\n        nextGuess = this.getRandomGuess();\n      } else if (hits.length === guesses.length) {\n        let prevHit = hits[hits.length - 1];\n\n        if (hits.length === 1) {\n          nextGuess = prevHit + 10;\n\n          if (prevHit < 90 && pieces.canAttackPiece(nextGuess)) {\n            guessDirection = \"Up\";\n          } else {\n            nextGuess = prevHit - 10;\n            guessDirection = \"Down\";\n          }\n        } else {\n          let prevPrevHit = hits[hits.length - 2];\n          let diff = prevHit - prevPrevHit;\n\n          if (diff === 10) {\n            nextGuess = prevHit + 10;\n\n            if (prevHit < 90 && pieces.canAttackPiece(nextGuess)) {\n              guessDirection = \"Up\";\n            } else {\n              nextGuess = hits[0] - 10;\n              guessDirection = \"Down\";\n            }\n          } else if (diff === -10) {\n            nextGuess = prevHit - 10;\n\n            if (prevHit > 9 && pieces.canAttackPiece(nextGuess)) {\n              guessDirection = \"Down\";\n            } else {\n              nextGuess = hits[0] + 10;\n              guessDirection = \"Up\";\n            }\n          } else if (diff === 1) {\n            let prevRemainder = prevHit % 10;\n            nextGuess = prevHit + 1;\n\n            if (prevRemainder != 9 && pieces.canAttackPiece(nextGuess)) {\n              guessDirection = \"Right\";\n            } else {\n              nextGuess = hits[0] - 1;\n              guessDirection = \"Left\";\n            }\n          } else if (diff === -1) {\n            let prevRemainder = prevHit % 10;\n            nextGuess = prevHit - 1;\n\n            if (prevRemainder != 0 && pieces.canAttackPiece(nextGuess)) {\n              guessDirection = \"Left\";\n            } else {\n              nextGuess = hits[0] + 1;\n              guessDirection = \"Right\";\n            }\n          }\n        }\n      } else {\n        if (hits.length === 1) {\n          let firstHit = hits[0];\n          let firstRem = firstHit % 10;\n          let canGuessUp = !hits.includes(firstHit + 10) && firstHit < 90 && pieces.canAttackPiece(firstHit + 10);\n          let canGuessDown = !hits.includes(firstHit - 10) && firstHit > 9 && pieces.canAttackPiece(firstHit - 10);\n          let canGuessRight = !hits.includes(firstHit + 1) && firstRem < 9 && pieces.canAttackPiece(firstHit + 1);\n          let canGuessLeft = !hits.includes(firstHit - 1) && firstRem > 0 && pieces.canAttackPiece(firstHit - 1);\n\n          if (canGuessUp) {\n            nextGuess = firstHit + 10;\n            guessDirection = \"Up\";\n          } else if (canGuessDown) {\n            nextGuess = firstHit - 10;\n            guessDirection = \"Down\";\n          } else if (canGuessRight) {\n            nextGuess = firstHit + 1;\n            guessDirection = \"Right\";\n          } else if (canGuessLeft) {\n            nextGuess = firstHit - 1;\n            guessDirection = \"Left\";\n          }\n        } else {\n          let prevHit = hits[hits.length - 1];\n          let prevPrevHit = hits[hits.length - 2];\n          let firstHit = hits[0];\n          let prevGuess = guesses[guesses.length - 1];\n\n          if (prevHit != prevGuess) {\n            //switch directions\n            let vertical = hits.includes(firstHit + 10);\n            let horizontal = hits.includes(firstHit + 1);\n\n            if (vertical) {\n              nextGuess = firstHit - 10;\n              guessDirection = \"Down\";\n            } else {\n              nextGuess = firstHit - 1;\n              guessDirection = \"Left\";\n            }\n          } else {\n            if (hitDirection === \"Up\") {} else if (hitDirection === \"Down\") {\n              guessDirection = \"Down\";\n              nextGuess = prevHit - 10;\n            } else if (hitDirection === \"Right\") {\n              let rem = prevHit % 10;\n\n              if (rem < 9 && pieces.canAttackPiece(prevHit + 1)) {\n                guessDirection = \"Right\";\n                nextGuess = prevHit + 1;\n              } else {\n                guessDirection = \"Left\";\n                nextGuess = firstHit - 1;\n              }\n            } else if (hitDirection === \"Left\") {\n              guessDirection = \"Left\";\n              nextGuess = prevHit - 1;\n            }\n          }\n        }\n      }\n\n      guesses.push(nextGuess);\n\n      if (pieces.canHitPiece(nextGuess)) {\n        hits.push(nextGuess);\n        hitDirection = guessDirection;\n      }\n\n      if (hits.length === 0) {\n        guesses = [];\n      }\n\n      let dex = pieces.attackPiece(nextGuess);\n      alert(this.getAlertText(dex, true));\n      this.checkIfWinner();\n\n      if (dex === 2) {\n        hits = [];\n        guesses = [];\n        hitDirection = \"\";\n      }\n\n      firstPlayer[\"pieces\"] = pieces;\n      this.setState({\n        firstPlayer\n      });\n      ai[\"hits\"] = hits;\n      ai[\"guesses\"] = guesses;\n      ai[\"hitDirection\"] = hitDirection;\n      this.setState({\n        ai\n      });\n      setTimeout(this.startUserTurn(), 1000);\n    };\n\n    this.getAlertText = (dex, isOpponenet) => {\n      if (dex === 0) {\n        return isOpponenet ? \"Your opponent missed!\" : \"You missed you fool!\";\n      }\n\n      if (dex === 1) {\n        return isOpponenet ? \"Your ship has been hit!\" : \"You hit their ship!\";\n      }\n\n      if (dex === 2) {\n        return isOpponenet ? \"Your ship has been sunk!\" : \"You sank their ship!\";\n      }\n    };\n\n    this.startUserTurn = () => {\n      this.setState({\n        showingBoard1: false\n      });\n      this.setState({\n        firstPlayerTurn: true\n      });\n    };\n\n    this.resetGame = () => {\n      let _this$state5 = this.state,\n          firstPlayer = _this$state5.firstPlayer,\n          secondPlayer = _this$state5.secondPlayer;\n      let pieces1 = firstPlayer.pieces;\n      pieces1.reset();\n      firstPlayer[\"pieces\"] = pieces1;\n      firstPlayer[\"won\"] = false;\n      currentPiece = 0;\n      this.setState({\n        firstPlayer\n      });\n      let pieces2 = secondPlayer.pieces;\n      pieces2.reset();\n      secondPlayer[\"pieces\"] = pieces2;\n      secondPlayer[\"won\"] = false;\n      this.setState({\n        secondPlayer\n      });\n      this.setState({\n        gameOver: false,\n        firstPlayerTurn: true,\n        gameStarted: false,\n        showingBoard1: true,\n        placingPiece: false\n      });\n    };\n\n    this.chooseCharacter = (isFirst, character) => {\n      let _this$state6 = this.state,\n          firstPlayer = _this$state6.firstPlayer,\n          secondPlayer = _this$state6.secondPlayer;\n\n      if (isFirst) {\n        firstPlayer[\"character\"] = character;\n        this.setState({\n          firstPlayer\n        });\n      } else {\n        secondPlayer[\"character\"] = character;\n        this.setState({\n          secondPlayer\n        });\n      }\n    };\n\n    this.placePiece = id => {\n      let firstPlayer = this.state.firstPlayer;\n      let pieces = firstPlayer.pieces;\n      let size = pieces.gamePieces[currentPiece].size;\n      let spaces = [];\n\n      for (let i = 0; i < size; i++) {\n        let dex = id + 10 * i;\n\n        if (dex > 99) {\n          return;\n        }\n\n        spaces.push(dex);\n      }\n\n      if (pieces.canPlaceGamepiece(spaces)) {\n        pieces.addPiece(spaces, currentPiece);\n        firstPlayer[\"pieces\"] = pieces;\n        this.setState({\n          hoverSquares: Array(100).fill(0)\n        });\n        this.setState({\n          firstPlayer\n        });\n        this.setState({\n          placingPiece: true\n        });\n      }\n    };\n\n    this.hoverOver = id => {\n      let _this$state7 = this.state,\n          firstPlayer = _this$state7.firstPlayer,\n          hoverSquares = _this$state7.hoverSquares;\n      let pieces = firstPlayer.pieces;\n      let size = pieces.gamePieces[currentPiece].size;\n      let spaces = [];\n\n      for (let i = 0; i < size; i++) {\n        let dex = id + 10 * i;\n\n        if (dex > 99) {\n          return;\n        }\n\n        spaces.push(dex);\n      }\n\n      if (pieces.canPlaceGamepiece(spaces)) {\n        let h = hoverSquares;\n        h = Array(100).fill(0);\n\n        for (let i = 0; i < spaces.length; i++) {\n          h[spaces[i]] = 1;\n        }\n\n        this.setState({\n          hoverSquares: h\n        });\n      }\n    };\n\n    this.rotatePiece = () => {\n      let firstPlayer = this.state.firstPlayer;\n      let pieces = firstPlayer.pieces;\n      pieces.rotatePiece(currentPiece);\n      firstPlayer[\"pieces\"] = pieces;\n      this.setState({\n        firstPlayer\n      });\n    };\n\n    this.confirmPlace = () => {\n      let firstPlayer = this.state.firstPlayer;\n      let pieces = firstPlayer.pieces;\n      pieces.setOriginalSquares();\n      currentPiece++;\n      this.setState({\n        firstPlayer,\n        placingPiece: false\n      });\n\n      if (currentPiece >= pieces.gamePieces.length) {\n        this.createAIBoard();\n      }\n    };\n\n    this.createAIBoard = () => {\n      for (let i = 0; i < 5; i++) {\n        this.createAIPiece(i);\n      }\n\n      this.setState({\n        gameStarted: true\n      });\n      this.setState({\n        showingBoard1: false\n      });\n    };\n\n    this.createAIPiece = dex => {\n      let secondPlayer = this.state.secondPlayer;\n      let pieces = secondPlayer.pieces;\n      let size = pieces.gamePieces[dex].size;\n      let spaces = [];\n      let canPlace = true;\n      let id = Math.floor(Math.random() * 100);\n\n      for (let i = 0; i < size; i++) {\n        let dex = id + 10 * i;\n\n        if (dex > 99) {\n          canPlace = false;\n        }\n\n        spaces.push(dex);\n      }\n\n      if (!canPlace) {\n        this.createAIPiece(dex);\n      } else {\n        if (pieces.canPlaceGamepiece(spaces)) {\n          pieces.addPiece(spaces, dex);\n          let numRot = Math.floor(Math.random() * 3);\n\n          for (let i = 0; i < numRot; i++) {\n            pieces.rotatePiece(dex);\n          }\n\n          secondPlayer[\"pieces\"] = pieces;\n          this.setState({\n            secondPlayer\n          });\n        } else {\n          this.createAIPiece(dex);\n        }\n      }\n    };\n\n    this.playMusic = () => {\n      const musicPlaying = this.state.musicPlaying;\n      let isPlaying = musicPlaying;\n      isPlaying = !isPlaying;\n\n      if (isPlaying) {\n        audio.play();\n      } else {\n        audio.pause();\n      }\n\n      this.setState({\n        musicPlaying: isPlaying\n      });\n    };\n\n    this.changeBoard = () => {\n      let nuShowBoard = !this.state.showingBoard1;\n      this.setState({\n        showingBoard1: nuShowBoard\n      });\n    };\n\n    this.socket = null;\n    this.state = {\n      firstPlayer: {\n        pieces: playerPieces[0],\n        won: false,\n        character: characters[0],\n        wins: 0\n      },\n      secondPlayer: {\n        pieces: playerPieces[1],\n        won: false,\n        character: characters[1],\n        wins: 0\n      },\n      ai: {\n        guesses: [],\n        hits: [],\n        hitDirection: \"\"\n      },\n      hoverSquares: Array(100).fill(0),\n      showingBoard1: true,\n      placingPiece: false,\n      musicPlaying: false,\n      firstPlayerTurn: true,\n      gameOver: false,\n      gameStarted: false,\n      playingAI: true\n    };\n  }\n\n  componentDidMount() {\n    this.socket = io(serverAddress);\n    this.socket.on('attack', data => {\n      if (!this.state.firstPlayerTurn && this.state.joined) {\n        let firstPlayer = this.state.firstPlayer;\n        let pieces = firstPlayer.pieces;\n        let dex = pieces.attackPiece(data.target);\n        firstPlayer[\"pieces\"] = pieces;\n        this.setState({\n          firstPlayer\n        });\n        alert(this.getAlertText(dex, true));\n        this.checkIfWinner();\n        this.setState({\n          firstPlayerTurn: true\n        });\n      }\n    });\n    audio.play();\n    this.setState({\n      musicPlaying: true\n    });\n  }\n\n  render() {\n    let _this$state8 = this.state,\n        firstPlayer = _this$state8.firstPlayer,\n        secondPlayer = _this$state8.secondPlayer,\n        gameOver = _this$state8.gameOver,\n        musicPlaying = _this$state8.musicPlaying,\n        showingBoard1 = _this$state8.showingBoard1,\n        placingPiece = _this$state8.placingPiece,\n        gameStarted = _this$state8.gameStarted,\n        hoverSquares = _this$state8.hoverSquares;\n    console.log(window.innerWidth);\n    let grid = fillArray.map((square, i) => {\n      return React.createElement(Square, {\n        key: i.toString(),\n        id: i,\n        firstPlayer: firstPlayer.character,\n        secondPlayer: secondPlayer.character,\n        firstVal: firstPlayer.pieces.squares[i],\n        secondVal: secondPlayer.pieces.squares[i],\n        hoverVal: hoverSquares[i],\n        showingBoard1: showingBoard1,\n        gameStarted: gameStarted,\n        placingPiece: placingPiece,\n        hoverOver: this.hoverOver,\n        handleClick: this.handleClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 572\n        },\n        __self: this\n      });\n    });\n    return React.createElement(\"div\", {\n      className: \"backgroundStuff\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 575\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      className: \"glow\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 576\n      },\n      __self: this\n    }, firstPlayer.won ? firstPlayer.character + \" Won\" : secondPlayer.won ? secondPlayer.character + \" Won\" : gameOver ? \"It's a Tie\" : \"BattleThrones\"), React.createElement(Dropdown, {\n      isFirst: true,\n      chooseCharacter: this.chooseCharacter,\n      currentCharacter: firstPlayer.character,\n      gameStarted: gameStarted,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 577\n      },\n      __self: this\n    }), React.createElement(Dropdown, {\n      isFirst: false,\n      chooseCharacter: this.chooseCharacter,\n      currentCharacter: secondPlayer.character,\n      gameStarted: gameStarted,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 578\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      onClick: this.resetGame,\n      className: \"resetButton\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 579\n      },\n      __self: this\n    }, \"Reset\"), React.createElement(\"button\", {\n      onClick: this.playMusic,\n      className: \"resetButton\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 580\n      },\n      __self: this\n    }, musicPlaying ? \"Stop Music\" : \"Play Music\"), placingPiece ? React.createElement(\"button\", {\n      onClick: this.rotatePiece,\n      className: \"resetButton\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 581\n      },\n      __self: this\n    }, \"Rotate\") : null, placingPiece ? React.createElement(\"button\", {\n      onClick: this.confirmPlace,\n      className: \"resetButton\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 582\n      },\n      __self: this\n    }, \"Confirm\") : null, gameStarted ? React.createElement(\"button\", {\n      onClick: this.changeBoard,\n      className: \"resetButton\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 583\n      },\n      __self: this\n    }, showingBoard1 ? \"Show Opponent's Board\" : \"Show Your Board\") : null, React.createElement(\"div\", {\n      className: \"grid\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 584\n      },\n      __self: this\n    }, grid), React.createElement(\"div\", {\n      className: \"characterGrid\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 587\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      className: \"playerOne\",\n      src: this.getPicture(firstPlayer.character),\n      alt: blank,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 588\n      },\n      __self: this\n    }), React.createElement(\"img\", {\n      className: \"playerTwo\",\n      src: this.getPicture(secondPlayer.character),\n      alt: blank,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 589\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"nameGrid\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 591\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 592\n      },\n      __self: this\n    }, firstPlayer.character), React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 593\n      },\n      __self: this\n    }, secondPlayer.character)), React.createElement(\"div\", {\n      className: \"playerGrid\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 595\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 596\n      },\n      __self: this\n    }, \"Player One\"), React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 597\n      },\n      __self: this\n    }, \"Player Two\")), React.createElement(\"div\", {\n      className: \"winsGrid\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 599\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 600\n      },\n      __self: this\n    }, firstPlayer.wins), React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 601\n      },\n      __self: this\n    }, secondPlayer.wins)));\n  }\n\n}\n\nexport default Board;","map":{"version":3,"sources":["/Users/ryzm/Desktop/Battleship/client/src/Board.js"],"names":["React","Component","Square","winningConditions","playerPieces","characters","Dropdown","blank","arya","bran","brienne","cersei","daenerys","davos","euron","greyWorm","hound","jamie","jonSnow","jorah","melisandre","missandei","nightKing","samwell","sansa","theon","tyrion","varys","theme","io","audio","Audio","fillArray","Array","fill","currentPiece","serverAddress","Board","constructor","props","getPicture","character","checkIfWinner","state","firstPlayer","secondPlayer","pieces","hasLost","secondWins","wins","alert","setState","gameOver","firstWins","handleClick","id","gameStarted","placingPiece","firstPlayerTurn","showingBoard1","placePiece","attackSquare","playingAI","canAttackPiece","dex","attackPiece","getAlertText","setTimeout","startAITurn","startOpponentTurn","aiTurn","getRandomGuess","squares","Math","floor","random","handleJoin","e","fetch","body","JSON","stringify","name","method","cache","headers","then","response","json","success","localStorage","sessionKey","joined","ai","hits","guesses","hitDirection","nextGuess","guessDirection","length","prevHit","prevPrevHit","diff","prevRemainder","firstHit","firstRem","canGuessUp","includes","canGuessDown","canGuessRight","canGuessLeft","prevGuess","vertical","horizontal","rem","push","canHitPiece","startUserTurn","isOpponenet","resetGame","pieces1","reset","pieces2","chooseCharacter","isFirst","size","gamePieces","spaces","i","canPlaceGamepiece","addPiece","hoverSquares","hoverOver","h","rotatePiece","confirmPlace","setOriginalSquares","createAIBoard","createAIPiece","canPlace","numRot","playMusic","musicPlaying","isPlaying","play","pause","changeBoard","nuShowBoard","socket","won","componentDidMount","on","data","target","render","console","log","window","innerWidth","grid","map","square","toString"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport Square from \"./Square.js\";\nimport winningConditions from './winningConditions.js';\nimport playerPieces from './playerPieces.js';\nimport characters from \"./characters.js\";\nimport './App.css';\nimport Dropdown from './Dropdown.js';\nimport blank from \"./blank.png\";\nimport arya from \"./faces/arya.png\";\nimport bran from \"./faces/bran.png\";\nimport brienne from \"./faces/brienne.png\";\nimport cersei from \"./faces/cersei.png\";\nimport daenerys from \"./faces/daenerys.png\";\nimport davos from \"./faces/davos.png\";\nimport euron from \"./faces/euron.png\";\nimport greyWorm from \"./faces/greyWorm.png\";\nimport hound from \"./faces/hound.png\";\nimport jamie from \"./faces/jamie.png\";\nimport jonSnow from \"./faces/jonSnow.png\";\nimport jorah from \"./faces/jorah.png\";\nimport melisandre from \"./faces/melisandre.png\";\nimport missandei from \"./faces/missandei.png\";\nimport nightKing from \"./faces/nightKing.png\";\nimport samwell from \"./faces/samwell.png\";\nimport sansa from \"./faces/sansa.png\";\nimport theon from \"./faces/theon.png\";\nimport tyrion from \"./faces/tyrion.png\";\nimport varys from \"./faces/varys.png\";\nimport theme from \"./theme.mp3\";\nimport io from 'socket.io-client'\nconst audio  = new Audio(theme);\nconst fillArray = Array(100).fill(null);\nvar currentPiece = 0;\nconst serverAddress = 'http://localhost:3000';\n\nclass Board extends Component {\n\n  constructor(props){\n    super(props)\n    this.socket = null\n    this.state = {\n      firstPlayer : {\n        pieces: playerPieces[0],\n        won : false,\n        character: characters[0],\n        wins: 0\n      },\n      secondPlayer : {\n        pieces: playerPieces[1],\n        won : false,\n        character: characters[1],\n        wins: 0\n      },\n      ai: {\n        guesses: [],\n        hits: [],\n        hitDirection: \"\"\n      },\n      hoverSquares: Array(100).fill(0),\n      showingBoard1: true,\n      placingPiece: false,\n      musicPlaying: false,\n      firstPlayerTurn : true,\n      gameOver: false,\n      gameStarted: false,\n      playingAI: true\n    }\n  }\n\n  getPicture = (character) => {\n    switch(character){\n      case \"Arya Stark\":\n        return arya;\n      case \"Bran Stark\":\n        return bran;\n      case \"Brienne of Tarth\":\n        return brienne;\n      case \"Cersei Lannister\":\n        return cersei;\n      case \"Daenerys Targaryean\":\n        return daenerys;\n      case \"Davos Seaworth\":\n        return davos;\n      case \"Euron Greyjoy\":\n        return euron;\n      case \"Grey Worm\":\n        return greyWorm;\n      case \"The Hound\":\n        return hound;\n      case \"Jamie Lannister\":\n        return jamie;\n      case \"Jon Snow\":\n        return jonSnow;\n      case \"Jorah Mormont\":\n        return jorah;\n      case \"Melisandre\":\n        return melisandre;\n      case \"Missandei\":\n        return missandei;\n      case \"Night King\":\n        return nightKing;\n      case \"Samwell Tarly\":\n        return samwell;\n      case \"Sansa Stark\":\n        return sansa;\n      case \"Theon Greyjoy\":\n        return theon;\n      case \"Tyrion Lannister\":\n        return tyrion;\n      case \"Varys\":\n        return varys;\n    }\n    return jonSnow;\n  }\n\n  checkIfWinner = () =>{\n    let {firstPlayer, secondPlayer} = this.state;\n    if(firstPlayer.pieces.hasLost()){\n      let secondWins = secondPlayer.wins + 1;\n      alert(\"You lost!\")\n      secondPlayer[\"wins\"] = secondWins;\n      secondPlayer[\"won\"] = true;\n      this.setState({secondPlayer});\n      this.setState({gameOver: true});\n    }\n    else if(secondPlayer.pieces.hasLost()){\n      let firstWins = firstPlayer.wins + 1;\n      alert(\"You won!\")\n      firstPlayer[\"wins\"] = firstWins;\n      firstPlayer[\"won\"] = true;\n      this.setState({firstPlayer});\n      this.setState({gameOver: true});\n    }\n  }\n\n  handleClick = (id) => {\n    let {gameStarted, placingPiece, firstPlayerTurn, gameOver, showingBoard1} = this.state;\n    if(gameOver){\n      return;\n    }\n    if(!gameStarted){\n      if(!placingPiece){\n        this.placePiece(id)\n      }\n    }\n    else {\n      if(firstPlayerTurn && !showingBoard1){\n        this.attackSquare(id);\n      }\n    }\n  }\n\n  attackSquare = (id) => {\n    let {firstPlayerTurn, secondPlayer, gameOver, playingAI} = this.state;\n    if(firstPlayerTurn){\n      let pieces = secondPlayer.pieces;\n      if(pieces.canAttackPiece(id)){\n        let dex = pieces.attackPiece(id);\n        alert(this.getAlertText(dex, false));\n        secondPlayer[\"pieces\"] = pieces;\n        this.setState({secondPlayer})\n        this.setState({firstPlayerTurn: false})\n        this.checkIfWinner();\n        if(!gameOver){\n          if(playingAI){\n            setTimeout(this.startAITurn(), 3000)\n          }\n          else{\n\n          }\n        }\n      }\n    }\n  }\n\n  startOpponentTurn = () => {\n    this.setState({showingBoard1: true})\n  }\n\n  startAITurn = () => {\n    this.setState({showingBoard1: true})\n    this.aiTurn();\n  }\n\n  getRandomGuess = () => {\n    let {firstPlayer} = this.state;\n    let squares = firstPlayer.pieces.squares;\n    let id = Math.floor(Math.random() * 100);\n    if(squares[id] <= 1){\n      return id;\n    }\n    return this.getRandomGuess();\n  }\n\n  handleJoin = (e) => {\n    fetch(serverAddress + '/create_user', {\n      body: JSON.stringify({\n        name: \"\"\n      }),\n      method: 'post',\n      cache: 'no-cache',\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    })\n    .then(response => response.json())\n    .then(json => {\n      if(json.success) {\n        localStorage.sessionKey = json.sessionKey;\n        this.setState({joined: true});\n      }\n    });\n  }\n\n  aiTurn = () => {\n    const {ai,firstPlayer} = this.state;\n    let pieces = firstPlayer.pieces;\n    let hits = ai.hits;\n    let guesses = ai.guesses;\n    let hitDirection = ai.hitDirection;\n    let nextGuess = 0;\n    let guessDirection = \"\";\n\n    if(hits.length === 0) {\n      nextGuess = this.getRandomGuess();\n    }\n    else if(hits.length === guesses.length) {\n      let prevHit = hits[hits.length - 1];\n      if(hits.length === 1){\n        nextGuess = prevHit + 10;\n        if(prevHit < 90 && pieces.canAttackPiece(nextGuess)){\n          guessDirection = \"Up\";\n        }\n        else {\n          nextGuess = prevHit - 10;\n          guessDirection = \"Down\";\n        }\n      }\n      else {\n        let prevPrevHit = hits[hits.length - 2];\n        let diff = prevHit - prevPrevHit;\n        if(diff === 10){\n          nextGuess = prevHit + 10;\n          if(prevHit < 90 && pieces.canAttackPiece(nextGuess)){\n            guessDirection = \"Up\";\n          }\n          else{\n            nextGuess = hits[0] - 10;\n            guessDirection = \"Down\";\n          }\n        }\n        else if(diff === -10){\n          nextGuess = prevHit - 10;\n          if(prevHit > 9 && pieces.canAttackPiece(nextGuess)){\n            guessDirection = \"Down\";\n          }\n          else{\n            nextGuess = hits[0] + 10;\n            guessDirection = \"Up\";\n          }\n        }\n        else if(diff === 1){\n          let prevRemainder = prevHit % 10;\n          nextGuess = prevHit + 1;\n          if(prevRemainder != 9 && pieces.canAttackPiece(nextGuess)){\n            guessDirection = \"Right\";\n          }\n          else {\n            nextGuess = hits[0] - 1;\n            guessDirection = \"Left\";\n          }\n        }\n        else if(diff === -1){\n          let prevRemainder = prevHit % 10;\n          nextGuess = prevHit - 1;\n          if(prevRemainder != 0 && pieces.canAttackPiece(nextGuess)){\n            guessDirection = \"Left\";\n          }\n          else{\n            nextGuess = hits[0] + 1;\n            guessDirection = \"Right\";\n          }\n        }\n      }\n    }\n    else {\n      if(hits.length === 1){\n        let firstHit = hits[0];\n        let firstRem = firstHit % 10;\n        let canGuessUp = !hits.includes(firstHit + 10) && firstHit < 90 && pieces.canAttackPiece(firstHit + 10);\n        let canGuessDown = !hits.includes(firstHit - 10) && firstHit > 9 && pieces.canAttackPiece(firstHit - 10);\n        let canGuessRight = !hits.includes(firstHit + 1) && firstRem < 9 && pieces.canAttackPiece(firstHit + 1);\n        let canGuessLeft = !hits.includes(firstHit - 1) && firstRem > 0 && pieces.canAttackPiece(firstHit - 1);\n        if(canGuessUp){\n          nextGuess = firstHit + 10;\n          guessDirection = \"Up\";\n        }\n        else if(canGuessDown){\n          nextGuess = firstHit - 10;\n          guessDirection = \"Down\";\n        }\n        else if(canGuessRight){\n          nextGuess = firstHit + 1;\n          guessDirection = \"Right\";\n        }\n        else if(canGuessLeft){\n          nextGuess = firstHit - 1;\n          guessDirection = \"Left\";\n        }\n      }\n      else{\n        let prevHit = hits[hits.length - 1];\n        let prevPrevHit = hits[hits.length - 2];\n        let firstHit = hits[0];\n        let prevGuess = guesses[guesses.length - 1];\n        if(prevHit != prevGuess){\n          //switch directions\n          let vertical = hits.includes(firstHit + 10);\n          let horizontal = hits.includes(firstHit + 1);\n          if(vertical){\n            nextGuess = firstHit - 10;\n            guessDirection = \"Down\";\n          }\n          else{\n            nextGuess = firstHit - 1;\n            guessDirection = \"Left\";\n          }\n        }\n        else{\n          if(hitDirection === \"Up\"){\n\n          }\n          else if(hitDirection === \"Down\"){\n            guessDirection = \"Down\";\n            nextGuess = prevHit - 10;\n          }\n          else if(hitDirection === \"Right\"){\n            let rem = prevHit % 10;\n            if(rem < 9 && pieces.canAttackPiece(prevHit + 1)){\n              guessDirection = \"Right\";\n              nextGuess = prevHit + 1;\n            }\n            else{\n              guessDirection = \"Left\";\n              nextGuess = firstHit - 1;\n            }\n          }\n          else if(hitDirection === \"Left\"){\n            guessDirection = \"Left\";\n            nextGuess = prevHit - 1;\n          }\n        }\n      }\n    }\n    guesses.push(nextGuess);\n\n    if(pieces.canHitPiece(nextGuess)){\n      hits.push(nextGuess);\n      hitDirection = guessDirection;\n    }\n    if(hits.length === 0){\n      guesses = [];\n    }\n    let dex = pieces.attackPiece(nextGuess)\n    alert(this.getAlertText(dex, true));\n    this.checkIfWinner();\n    if(dex === 2){\n      hits = [];\n      guesses = [];\n      hitDirection = \"\";\n    }\n\n    firstPlayer[\"pieces\"] = pieces;\n    this.setState({firstPlayer})\n\n    ai[\"hits\"] = hits;\n    ai[\"guesses\"] = guesses;\n    ai[\"hitDirection\"] = hitDirection;\n    this.setState({ai});\n    setTimeout(this.startUserTurn(), 1000)\n  }\n\n  getAlertText = (dex, isOpponenet) => {\n    if(dex === 0){\n      return isOpponenet ? \"Your opponent missed!\" : \"You missed you fool!\";\n    }\n    if(dex === 1){\n      return isOpponenet ? \"Your ship has been hit!\" : \"You hit their ship!\";\n    }\n    if(dex === 2){\n      return isOpponenet ? \"Your ship has been sunk!\" : \"You sank their ship!\";\n    }\n  }\n\n  startUserTurn = () => {\n    this.setState({showingBoard1: false})\n    this.setState({firstPlayerTurn: true})\n  }\n\n  resetGame = () => {\n    let {firstPlayer, secondPlayer} = this.state;\n    let pieces1 = firstPlayer.pieces;\n    pieces1.reset();\n    firstPlayer[\"pieces\"] = pieces1;\n    firstPlayer[\"won\"] = false;\n    currentPiece = 0;\n    this.setState({firstPlayer});\n    let pieces2 = secondPlayer.pieces;\n    pieces2.reset();\n    secondPlayer[\"pieces\"] = pieces2;\n    secondPlayer[\"won\"] = false;\n    this.setState({secondPlayer});\n    this.setState({gameOver : false, firstPlayerTurn : true, gameStarted : false, showingBoard1: true, placingPiece: false});\n  }\n\n  chooseCharacter = (isFirst, character) =>{\n    let {firstPlayer,secondPlayer} = this.state\n    if(isFirst){\n      firstPlayer[\"character\"] = character;\n      this.setState({firstPlayer});\n    }\n    else{\n      secondPlayer[\"character\"] = character;\n      this.setState({secondPlayer});\n    }\n  }\n\n  placePiece = (id) => {\n    let {firstPlayer} = this.state;\n    let pieces = firstPlayer.pieces;\n    let size = pieces.gamePieces[currentPiece].size;\n    let spaces = [];\n    for(let i = 0; i < size; i++){\n      let dex = id + 10 * i\n      if(dex > 99){\n        return;\n      }\n      spaces.push(dex)\n    }\n    if(pieces.canPlaceGamepiece(spaces)){\n      pieces.addPiece(spaces, currentPiece)\n      firstPlayer[\"pieces\"] = pieces;\n      this.setState({hoverSquares: Array(100).fill(0)})\n      this.setState({firstPlayer})\n      this.setState({placingPiece: true})\n    }\n  }\n\n  hoverOver = (id) => {\n    let {firstPlayer, hoverSquares} = this.state;\n    let pieces = firstPlayer.pieces;\n    let size = pieces.gamePieces[currentPiece].size;\n    let spaces = [];\n    for(let i = 0; i < size; i++){\n      let dex = id + 10 * i\n      if(dex > 99){\n        return;\n      }\n      spaces.push(dex)\n    }\n    if(pieces.canPlaceGamepiece(spaces)){\n      let h = hoverSquares;\n      h = Array(100).fill(0);\n      for(let i = 0; i < spaces.length; i++){\n        h[spaces[i]] = 1;\n      }\n      this.setState({hoverSquares: h});\n    }\n  }\n\n  rotatePiece = () =>{\n    let {firstPlayer} = this.state;\n    let pieces = firstPlayer.pieces;\n    pieces.rotatePiece(currentPiece);\n    firstPlayer[\"pieces\"] = pieces;\n    this.setState({firstPlayer});\n  }\n\n  confirmPlace = () => {\n    let {firstPlayer} = this.state;\n    let pieces = firstPlayer.pieces;\n    pieces.setOriginalSquares();\n    currentPiece++;\n    this.setState({firstPlayer, placingPiece: false});\n    if(currentPiece >= pieces.gamePieces.length){\n      this.createAIBoard();\n    }\n  }\n\n  createAIBoard = () => {\n    for(let i = 0; i < 5; i++){\n      this.createAIPiece(i);\n    }\n    this.setState({gameStarted: true})\n    this.setState({showingBoard1: false})\n  }\n\n  createAIPiece = (dex) => {\n    let {secondPlayer} = this.state;\n    let pieces = secondPlayer.pieces;\n    let size = pieces.gamePieces[dex].size;\n    let spaces = [];\n    let canPlace = true;\n    let id = Math.floor(Math.random() * 100)\n    for(let i = 0; i < size; i++){\n      let dex = id + 10 * i\n      if(dex > 99){\n        canPlace = false;\n      }\n      spaces.push(dex)\n    }\n    if(!canPlace){\n      this.createAIPiece(dex);\n    }\n    else {\n      if(pieces.canPlaceGamepiece(spaces)){\n        pieces.addPiece(spaces, dex)\n        let numRot = Math.floor(Math.random() * 3)\n        for(let i = 0; i < numRot; i++){\n          pieces.rotatePiece(dex);\n        }\n        secondPlayer[\"pieces\"] = pieces;\n        this.setState({secondPlayer})\n      }\n      else{\n        this.createAIPiece(dex);\n      }\n    }\n  }\n\n  componentDidMount(){\n    this.socket = io(serverAddress);\n    this.socket.on('attack', data => {\n      if(!this.state.firstPlayerTurn && this.state.joined) {\n        let{firstPlayer} = this.state;\n        let pieces = firstPlayer.pieces\n        let dex = pieces.attackPiece(data.target)\n        firstPlayer[\"pieces\"] = pieces;\n        this.setState({firstPlayer})\n        alert(this.getAlertText(dex, true));\n        this.checkIfWinner();\n        this.setState({firstPlayerTurn: true});\n      }\n    });\n    audio.play();\n    this.setState({musicPlaying:true});\n  }\n\n  playMusic = () =>{\n    const{musicPlaying} = this.state;\n    let isPlaying = musicPlaying;\n    isPlaying = !isPlaying;\n    if(isPlaying){\n      audio.play();\n    }\n    else{\n      audio.pause();\n    }\n    this.setState({musicPlaying:isPlaying});\n  }\n\n  changeBoard = () => {\n    let nuShowBoard = !this.state.showingBoard1;\n    this.setState({showingBoard1: nuShowBoard});\n  }\n\n  render(){\n    let {firstPlayer, secondPlayer, gameOver, musicPlaying, showingBoard1, placingPiece, gameStarted, hoverSquares} = this.state;\n    console.log(window.innerWidth);\n    let grid = fillArray.map((square,i) =>{\n      return(\n        <Square key = {i.toString()} id = {i} firstPlayer = {firstPlayer.character} secondPlayer = {secondPlayer.character} firstVal = {firstPlayer.pieces.squares[i]} secondVal = {secondPlayer.pieces.squares[i]} hoverVal = {hoverSquares[i]} showingBoard1 = {showingBoard1} gameStarted = {gameStarted} placingPiece = {placingPiece} hoverOver = {this.hoverOver} handleClick = {this.handleClick}  />)\n    })\n    return (\n      <div className = \"backgroundStuff\">\n        <h1 className = \"glow\">{firstPlayer.won ? firstPlayer.character + \" Won\" : secondPlayer.won ? secondPlayer.character + \" Won\" : gameOver ? \"It's a Tie\" : \"BattleThrones\"}</h1>\n        <Dropdown isFirst = {true} chooseCharacter = {this.chooseCharacter} currentCharacter = {firstPlayer.character} gameStarted = {gameStarted}/>\n        <Dropdown isFirst = {false} chooseCharacter = {this.chooseCharacter} currentCharacter = {secondPlayer.character} gameStarted = {gameStarted}/>\n        <button onClick = {this.resetGame} className = \"resetButton\">Reset</button>\n        <button onClick = {this.playMusic} className = \"resetButton\">{musicPlaying ? \"Stop Music\": \"Play Music\"}</button>\n        {placingPiece ? (<button onClick = {this.rotatePiece} className = \"resetButton\">Rotate</button>): (null)}\n        {placingPiece ? (<button onClick = {this.confirmPlace} className = \"resetButton\">Confirm</button>): (null)}\n        {gameStarted ? (<button onClick = {this.changeBoard} className = \"resetButton\">{showingBoard1 ? \"Show Opponent's Board\" : \"Show Your Board\"}</button>): (null)}\n        <div className = \"grid\">\n          {grid}\n        </div>\n        <div className = \"characterGrid\">\n          <img className = \"playerOne\" src =  {this.getPicture(firstPlayer.character)} alt = {blank}></img>\n          <img className = \"playerTwo\" src =  {this.getPicture(secondPlayer.character)} alt = {blank}></img>\n        </div>\n        <div className = \"nameGrid\">\n          <h1>{firstPlayer.character}</h1>\n          <h1>{secondPlayer.character}</h1>\n        </div>\n        <div className = \"playerGrid\">\n          <h1>Player One</h1>\n          <h1>Player Two</h1>\n        </div>\n        <div className = \"winsGrid\">\n          <h1>{firstPlayer.wins}</h1>\n          <h1>{secondPlayer.wins}</h1>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Board;\n"]},"metadata":{},"sourceType":"module"}