{"ast":null,"code":"class Piece {\n  constructor(size) {\n    this.size = size;\n    this.positions = [];\n    this.hits = [];\n    this.alive = true;\n    this.rotation = 0;\n  }\n\n  rotatePiece() {\n    let rot = this.rotation;\n    let finPos = [];\n    let anchorPoint = rot === 0 || rot === 270 ? Math.min(...this.positions) : Math.max(...this.positions);\n    let anchorRemainder = anchorPoint % 10;\n    let nuRot = false;\n    console.log(anchorPoint);\n\n    for (let i = 0; i < 4; i++) {\n      rot += 90;\n      rot = rot < 360 ? rot : 0;\n      let canRotate = true;\n      finPos = [anchorPoint];\n\n      for (let j = 1; j < this.size; j++) {\n        if (rot === 0) {\n          let dex = anchorPoint + 10 * j;\n          finPos[j] = dex;\n\n          if (dex > 99) {\n            canRotate = false;\n            break;\n          }\n        } else if (rot === 90) {\n          let dex = anchorPoint - j;\n          let rem = dex % 10;\n          finPos[j] = dex;\n          console.log(dex, rem);\n\n          if (dex < 0 || rem != anchorRemainder) {\n            canRotate = false;\n            break;\n          }\n        } else if (rot === 180) {\n          let dex = anchorPoint - 10 * j;\n          finPos[j] = dex;\n\n          if (dex < 0) {\n            canRotate = false;\n            break;\n          }\n        } else if (rot === 270) {\n          let dex = anchorPoint + j;\n          finPos[j] = dex;\n\n          if (dex > 99 || dex % 10 != anchorRemainder) {\n            canRotate = false;\n            break;\n          }\n        }\n      }\n\n      if (canRotate) {\n        nuRot = true;\n        break;\n      }\n    }\n\n    if (nuRot) {\n      this.positions = finPos;\n      this.rotation = rot;\n    }\n  }\n\n}\n\nclass PlayerPieces {\n  constructor() {\n    this.gamePieces = [new Piece(2), new Piece(3), new Piece(3), new Piece(4), new Piece(5)];\n    this.squares = Array(100).fill(0);\n  }\n\n  canPlaceGamepiece(arr) {\n    let canPlace = true;\n\n    for (let i = 0; i < arr.length; i++) {\n      if (this.squares.includes(arr[i])) {\n        canPlace = false;\n        break;\n      }\n    }\n\n    return canPlace;\n  }\n\n  addPiece(spaces, dex) {\n    for (let i = 0; i < spaces.length; i++) {\n      this.squares[spaces[i]] = 1;\n    }\n\n    this.gamePieces[dex].positions = spaces;\n  }\n\n  rotatePiece(dex) {\n    let initSpaces = this.gamePieces[dex].positions;\n    this.gamePieces[dex].rotatePiece();\n    let nuSpaces = this.gamePieces[dex].positions;\n\n    for (let i = 0; i < initSpaces.length; i++) {\n      this.squares[initSpaces[i]] = 0;\n      this.squares[nuSpaces[i]] = 1;\n    }\n  }\n\n}\n\nlet playerPieces = new PlayerPieces();\nexport default playerPieces;","map":{"version":3,"sources":["/Users/ryzm/Desktop/Battleship/src/playerPieces.js"],"names":["Piece","constructor","size","positions","hits","alive","rotation","rotatePiece","rot","finPos","anchorPoint","Math","min","max","anchorRemainder","nuRot","console","log","i","canRotate","j","dex","rem","PlayerPieces","gamePieces","squares","Array","fill","canPlaceGamepiece","arr","canPlace","length","includes","addPiece","spaces","initSpaces","nuSpaces","playerPieces"],"mappings":"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","sourcesContent":["class Piece{\n  constructor(size){\n    this.size = size;\n    this.positions = [];\n    this.hits = [];\n    this.alive = true;\n    this.rotation = 0;\n  }\n\n  rotatePiece(){\n    let rot = this.rotation;\n    let finPos = [];\n    let anchorPoint = rot === 0 || rot === 270 ? Math.min(...this.positions) : Math.max(...this.positions);\n    let anchorRemainder = anchorPoint % 10;\n    let nuRot = false;\n    console.log(anchorPoint);\n    for(let i = 0; i < 4; i++){\n      rot += 90;\n      rot = rot < 360 ? rot : 0;\n      let canRotate = true;\n      finPos = [anchorPoint];\n      for(let j = 1; j < this.size; j++){\n        if(rot === 0){\n          let dex = anchorPoint + 10 * j\n          finPos[j] = dex\n          if(dex > 99){\n            canRotate = false;\n            break;\n          }\n        }\n        else if(rot === 90){\n          let dex = anchorPoint - j\n          let rem = dex % 10;\n          finPos[j] = dex\n          console.log(dex, rem);\n          if(dex < 0 || rem != anchorRemainder){\n            canRotate = false;\n            break;\n          }\n        }\n        else if(rot === 180){\n          let dex = anchorPoint - 10 * j\n          finPos[j] = dex\n          if(dex < 0){\n            canRotate = false;\n            break;\n          }\n        }\n        else if(rot === 270){\n          let dex = anchorPoint + j\n          finPos[j] = dex\n          if(dex > 99 || dex % 10 != anchorRemainder){\n            canRotate = false;\n            break;\n          }\n        }\n      }\n      if(canRotate){\n        nuRot = true;\n        break;\n      }\n    }\n    if(nuRot){\n      this.positions = finPos;\n      this.rotation = rot;\n    }\n  }\n}\n\nclass PlayerPieces{\n  constructor(){\n    this.gamePieces = [new Piece(2), new Piece(3), new Piece(3), new Piece(4), new Piece(5)];\n    this.squares = Array(100).fill(0);\n  }\n  canPlaceGamepiece(arr){\n    let canPlace = true;\n    for(let i = 0; i < arr.length; i++){\n      if(this.squares.includes(arr[i])){\n        canPlace = false;\n        break;\n      }\n    }\n    return canPlace;\n  }\n\n  addPiece(spaces, dex){\n    for(let i = 0; i < spaces.length; i++){\n      this.squares[spaces[i]] = 1;\n    }\n    this.gamePieces[dex].positions = spaces\n  }\n\n  rotatePiece(dex){\n    let initSpaces = this.gamePieces[dex].positions;\n    this.gamePieces[dex].rotatePiece();\n    let nuSpaces = this.gamePieces[dex].positions;\n    for(let i = 0; i < initSpaces.length; i++){\n      this.squares[initSpaces[i]] = 0;\n      this.squares[nuSpaces[i]] = 1;\n    }\n  }\n}\n\nlet playerPieces = new PlayerPieces()\n\n\nexport default playerPieces;\n"]},"metadata":{},"sourceType":"module"}